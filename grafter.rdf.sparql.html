<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>grafter.rdf.sparql documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Grafter</span> <span class="project-version">0.12.3</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grafter-2</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rdf</span></div></div></li><li class="depth-3"><a href="grafter-2.rdf.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>rdf4j</span></div></div></li><li class="depth-3 branch"><a href="grafter-2.rdf4j.formats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>formats</span></div></a></li><li class="depth-3 branch"><a href="grafter-2.rdf4j.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-3"><a href="grafter-2.rdf4j.repository.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repository</span></div></a></li><li class="depth-4"><a href="grafter-2.rdf4j.repository.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-3 branch"><a href="grafter-2.rdf4j.sparql.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>sparql</span></div></a></li><li class="depth-3"><a href="grafter-2.rdf4j.templater.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templater</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>grafter</span></div></div></li><li class="depth-2"><a href="grafter.rdf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rdf</span></div></a></li><li class="depth-3 branch"><a href="grafter.rdf.formats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>formats</span></div></a></li><li class="depth-3 branch"><a href="grafter.rdf.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-3 branch"><a href="grafter.rdf.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-3"><a href="grafter.rdf.repository.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repository</span></div></a></li><li class="depth-4"><a href="grafter.rdf.repository.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-3 branch current"><a href="grafter.rdf.sparql.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>sparql</span></div></a></li><li class="depth-3"><a href="grafter.rdf.templater.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templater</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="grafter.rdf.sparql.html#var-key-.3Ereplacer"><div class="inner"><span>key-&gt;replacer</span></div></a></li><li class="depth-1"><a href="grafter.rdf.sparql.html#var-query"><div class="inner"><span>query</span></div></a></li><li class="depth-1"><a href="grafter.rdf.sparql.html#var-var-key-matcher"><div class="inner"><span>var-key-matcher</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">grafter.rdf.sparql</h1><h4 class="deprecated">deprecated in 0.12.0</h4><div class="doc"><pre class="plaintext">DEPRECATED: Use grafter.rdf4j.sparql instead.  This namespace contains the
old sesame implementation.</pre></div><div class="public anchor" id="var-key-.3Ereplacer"><h3>key-&gt;replacer</h3><div class="usage"><code>(key-&gt;replacer k)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/sparql.clj#L36">view source</a></div></div><div class="public anchor" id="var-query"><h3>query</h3><div class="usage"><code>(query sparql-file)</code><code>(query sparql-file repo)</code><code>(query sparql-file bindings repo)</code></div><div class="doc"><pre class="plaintext">Takes a string reference to a sparql-file on the resource path and
optionally a map of bindings that should map SPARQL variables from
your query to concrete values, allowing you to restrict and
customise your query.

The bindings map is optional, and if it's not provided then the
query in the file is run as is.

Additionally, if your sparql query specifies a LIMIT or OFFSET the
bindings map supports the special keys ::limits and ::offsets.
Which should be maps binding identifiable limits/offsets from your
query to new values.

VALUES clause bindings are supported like normal ?var bindings when
there is just one VALUES binding.  When there are more than one, you
should provide a vector containing the component var names as the
key in the map, with a sequence of sequences as the values
themselves.  e.g. to override a clause like this:

VALUES ?a ?b { (1 2) (3 4) }

You would provide a map that looked like this:

{[:a :b] [[1 1] [2 2] [3 3]]}

nil's inside the VALUES row's themselves will raise an error.  

The clojure keyword :grafter.rdf.sparql/undef can be used to
represent a SPARQL UNDEF, in the bound VALUES data.

The final argument `repo` should be the repository to query.

If only one argument referencing a resource path to a SPARQL query
then a partially applied function is returned. e.g.

(def spog (query "grafter/rdf/sparql/select-spog.sparql"))

(spog r) ;; ... triples ...

(spog r {:s [(URI. "<a href="http://s1&quot;)">http://s1")</a> (URI. "<a href="http://s2&quot;)">http://s2")</a>]}) ;; triples for VALUES clause subjects s.

(spog r {:s (java.net.URI. "<a href="http://example.org/data/a-triple&quot;)">http://example.org/data/a-triple")</a>}) ;; triples for given subject s.
</pre></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/sparql.clj#L124">view source</a></div></div><div class="public anchor" id="var-var-key-matcher"><h3>var-key-matcher</h3><div class="usage"><code>(var-key-matcher k)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/sparql.clj#L26">view source</a></div></div></div></body></html>