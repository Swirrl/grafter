<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>grafter.rdf.protocols documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Grafter</span> <span class="project-version">0.12.4-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grafter-2</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rdf</span></div></div></li><li class="depth-3"><a href="grafter-2.rdf.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>rdf4j</span></div></div></li><li class="depth-3 branch"><a href="grafter-2.rdf4j.formats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>formats</span></div></a></li><li class="depth-3 branch"><a href="grafter-2.rdf4j.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-3"><a href="grafter-2.rdf4j.repository.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repository</span></div></a></li><li class="depth-4"><a href="grafter-2.rdf4j.repository.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-3 branch"><a href="grafter-2.rdf4j.sparql.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>sparql</span></div></a></li><li class="depth-3"><a href="grafter-2.rdf4j.templater.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templater</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>grafter</span></div></div></li><li class="depth-2"><a href="grafter.rdf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rdf</span></div></a></li><li class="depth-3 branch"><a href="grafter.rdf.formats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>formats</span></div></a></li><li class="depth-3 branch"><a href="grafter.rdf.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-3 branch current"><a href="grafter.rdf.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-3"><a href="grafter.rdf.repository.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repository</span></div></a></li><li class="depth-4"><a href="grafter.rdf.repository.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-3 branch"><a href="grafter.rdf.sparql.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>sparql</span></div></a></li><li class="depth-3"><a href="grafter.rdf.templater.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templater</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="grafter.rdf.protocols.html#var-blank-node.3F"><div class="inner"><span>blank-node?</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-IDatatypeURI"><div class="inner"><span>IDatatypeURI</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-datatype-uri"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datatype-uri</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-IGrafterRDFType"><div class="inner"><span>IGrafterRDFType</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var--.3Egrafter-type"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-&gt;grafter-type</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-IRawValue"><div class="inner"><span>IRawValue</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-raw-value"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>raw-value</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-IRDFString"><div class="inner"><span>IRDFString</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-lang"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lang</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-ISPARQLable"><div class="inner"><span>ISPARQLable</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-query-dataset"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>query-dataset</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-ISPARQLUpdateable"><div class="inner"><span>ISPARQLUpdateable</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-update.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update!</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-IStatement"><div class="inner"><span>IStatement</span></div></a></li><li class="depth-2 branch"><a href="grafter.rdf.protocols.html#var-context"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>context</span></div></a></li><li class="depth-2 branch"><a href="grafter.rdf.protocols.html#var-object"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>object</span></div></a></li><li class="depth-2 branch"><a href="grafter.rdf.protocols.html#var-predicate"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>predicate</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-subject"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>subject</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-ITransactable"><div class="inner"><span>ITransactable</span></div></a></li><li class="depth-2 branch"><a href="grafter.rdf.protocols.html#var-begin"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>begin</span></div></a></li><li class="depth-2 branch"><a href="grafter.rdf.protocols.html#var-commit"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commit</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-rollback"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rollback</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-ITripleDeleteable"><div class="inner"><span>ITripleDeleteable</span></div></a></li><li class="depth-2 branch"><a href="grafter.rdf.protocols.html#var-delete"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-delete-statement"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete-statement</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-ITripleReadable"><div class="inner"><span>ITripleReadable</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-to-statements"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>to-statements</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-ITripleWriteable"><div class="inner"><span>ITripleWriteable</span></div></a></li><li class="depth-2 branch"><a href="grafter.rdf.protocols.html#var-add"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>add</span></div></a></li><li class="depth-2"><a href="grafter.rdf.protocols.html#var-add-statement"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>add-statement</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-language"><div class="inner"><span>language</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-literal"><div class="inner"><span>literal</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-rdf.3AlangString"><div class="inner"><span>rdf:langString</span></div></a></li><li class="depth-1"><a href="grafter.rdf.protocols.html#var-triple.3F"><div class="inner"><span>triple?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">grafter.rdf.protocols</h1><h4 class="deprecated">deprecated in 0.12.1</h4><div class="doc"><pre class="plaintext">DEPRECATED: Use grafter-2.rdf.protocols instead.  This namespace contains the old
sesame implementation.

Grafter protocols and types for RDF processing</pre></div><div class="public anchor" id="var-blank-node.3F"><h3>blank-node?</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Predicate function that tests whether the supplied value is
considered to be a blank node type.</pre></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L315">view source</a></div></div><div class="public anchor" id="var-IDatatypeURI"><h3>IDatatypeURI</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-datatype-uri"><h3>datatype-uri</h3><div class="usage"><code>(datatype-uri this)</code></div><div class="doc"><pre class="plaintext">Returns the RDF literals datatype URI as a java.net.URI.
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L117">view source</a></div></div><div class="public anchor" id="var-IGrafterRDFType"><h3>IGrafterRDFType</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">This protocol coerces a backend RDF type, e.g. an RDF4j quad object
into an equivalent Grafter RDF type.  For example given an RDF4j
quad it will convert it into a Grafter Quad.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--.3Egrafter-type"><h3>-&gt;grafter-type</h3><div class="usage"><code>(-&gt;grafter-type this)</code></div><div class="doc"><pre class="plaintext">Convert a backend RDF Type into a Native Type
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L93">view source</a></div></div><div class="public anchor" id="var-IRawValue"><h3>IRawValue</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-raw-value"><h3>raw-value</h3><div class="usage"><code>(raw-value this)</code></div><div class="doc"><pre class="plaintext">Returns the naked value of a literal.  For native primitive
values e.g. a java.lang.Integer, this will return the supplied
value (like identity).  However for more complex types such as
LangString's it will coerce the value into a more natural
primitive type.</pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L109">view source</a></div></div><div class="public anchor" id="var-IRDFString"><h3>IRDFString</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-lang"><h3>lang</h3><div class="usage"><code>(lang this)</code></div><div class="doc"><pre class="plaintext">Return the strings language tag (as a clojure Keyword)
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L105">view source</a></div></div><div class="public anchor" id="var-ISPARQLable"><h3>ISPARQLable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">NOTE this protocol is intended for low-level access.  End users
should use query instead.

Run an arbitrary SPARQL query.  Works with `ASK`, `DESCRIBE`,
`CONSTRUCT` and `SELECT` queries.

You can call this on a Repository however if you do you may in some
cases cause a resource leak, for example if the sequence of results
isn't fully consumed.

To use this without leaking resources it is recommended that you
call `-&gt;connection` on your repository, inside a `with-open`; and
then consume all your results inside of a nested `doseq`/`dorun`/etc...

e.g.

````
(with-open [conn (-&gt;connection repo)]
   (doseq [res (query conn "SELECT * WHERE { ?s ?p ?o .}")]
      (println res)))
````</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-query-dataset"><h3>query-dataset</h3><div class="usage"><code>(query-dataset this sparql-string model)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L68">view source</a></div></div><div class="public anchor" id="var-ISPARQLUpdateable"><h3>ISPARQLUpdateable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-update.21"><h3>update!</h3><div class="usage"><code>(update! this sparql-string)</code></div><div class="doc"><pre class="plaintext">Issue a SPARQL Update statement against the repository
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L99">view source</a></div></div><div class="public anchor" id="var-IStatement"><h3>IStatement</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">An RDF triple or quad
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-context"><h3>context</h3><div class="usage"><code>(context statement)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-object"><h3>object</h3><div class="usage"><code>(object statement)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-predicate"><h3>predicate</h3><div class="usage"><code>(predicate statement)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-subject"><h3>subject</h3><div class="usage"><code>(subject statement)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L14">view source</a></div></div><div class="public anchor" id="var-ITransactable"><h3>ITransactable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Low level protocol for transactions support.  Most users probably
want to use grafter.rdf.sesame/with-transaction</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-begin"><h3>begin</h3><div class="usage"><code>(begin repo)</code></div><div class="doc"><pre class="plaintext">Start a transaction
</pre></div></div><div class="public anchor" id="var-commit"><h3>commit</h3><div class="usage"><code>(commit repo)</code></div><div class="doc"><pre class="plaintext">Commit a transaction
</pre></div></div><div class="public anchor" id="var-rollback"><h3>rollback</h3><div class="usage"><code>(rollback repo)</code></div><div class="doc"><pre class="plaintext">Rollback a transaction
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L61">view source</a></div></div><div class="public anchor" id="var-ITripleDeleteable"><h3>ITripleDeleteable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">This protocol can be implemented by anything which you can delete
statements from.  For example a SPARQL Update Endpoint.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-delete"><h3>delete</h3><div class="usage"><code>(delete this quads)</code><code>(delete this graph triples)</code></div><div class="doc"><pre class="plaintext">Delete the supplied triples or quads from the destination.
</pre></div></div><div class="public anchor" id="var-delete-statement"><h3>delete-statement</h3><div class="usage"><code>(delete-statement this statement)</code><code>(delete-statement this graph statement)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L37">view source</a></div></div><div class="public anchor" id="var-ITripleReadable"><h3>ITripleReadable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Use the higher level wrapper function statements if you just wish to read in some RDF.

This protocol exists for implementers to hook in additional sources of statements.

Takes a source of statements or triples and converts it into a seq
of triples.

A hash of options is passed to each implementation, they may be
ignored or handled depending on the circumstance.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-to-statements"><h3>to-statements</h3><div class="usage"><code>(to-statements this options)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L49">view source</a></div></div><div class="public anchor" id="var-ITripleWriteable"><h3>ITripleWriteable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">This protocol is implemented by anything which you can put
statements into.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-add"><h3>add</h3><div class="usage"><code>(add this quads)</code><code>(add this graph triples)</code><code>(add this graph format triple-stream)</code><code>(add this graph base-uri format triple-stream)</code></div><div class="doc"><pre class="plaintext">Add a seq of triples or quads to a destination.  Works with a
sequence of IStatements an InputStream, File or Reader</pre></div></div><div class="public anchor" id="var-add-statement"><h3>add-statement</h3><div class="usage"><code>(add-statement this statement)</code><code>(add-statement this graph statement)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L21">view source</a></div></div><div class="public anchor" id="var-language"><h3>language</h3><div class="usage"><code>(language s lang)</code></div><div class="doc"><pre class="plaintext">Create an RDF langauge string out of a value string and a given
language tag.  Language tags should be keywords representing the
country code, e.g.

(language "Bonsoir" :fr)</pre></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L162">view source</a></div></div><div class="public anchor" id="var-literal"><h3>literal</h3><div class="usage"><code>(literal val datatype-uri)</code></div><div class="doc"><pre class="plaintext">You can use this to declare an RDF typed literal value along with
its URI.  Note that there are implicit coercions already defined for
many core clojure/java datatypes, so for common datatypes you
shounld't need this.</pre></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L202">view source</a></div></div><div class="public anchor" id="var-rdf.3AlangString"><h3>rdf:langString</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L121">view source</a></div></div><div class="public anchor" id="var-triple.3F"><h3>triple?</h3><div class="usage"><code>(triple? t)</code></div><div class="doc"><pre class="plaintext">Predicate function to test if object is a valid RDF triple.
</pre></div><div class="src-link"><a href="http://github.com/Swirrl/grafter/blob/rdf-core/deprecated/src/grafter/rdf/protocols.clj#L302">view source</a></div></div></div></body></html>